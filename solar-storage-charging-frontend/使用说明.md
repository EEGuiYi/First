# 光储充一体化系统使用说明

## 快速开始

### 1. 启动系统
```bash
cd solar-storage-charging-frontend
npm run dev
```
系统将在 http://localhost:5173 启动

### 2. 系统使用流程

#### 第一步：参数设置
1. 点击"参数设置"按钮进入参数配置界面
2. 填写背景信息：
   - 园区面积：建议填写 10000 m²
   - 电动汽车保有量：建议填写 100 辆

3. 配置设备容量范围：
   - 直流侧光伏：0-1000 kW
   - 交流侧光伏：0-1000 kW
   - 直流侧储能：0-2000 kWh
   - 交流侧储能：0-2000 kWh
   - 直流侧充电桩：0-500 kW
   - 交流侧充电桩：0-500 kW

4. 上传数据文件：
   - 可以使用 `public/sample-data/` 目录下的示例数据
   - 支持 .xlsx 和 .csv 格式
   - 确保文件格式：第一列为时间(0-23)，第二列为数值

5. 查看数据预览图表，确认数据正确
6. 点击"保存参数"

#### 第二步：容量优化配置
1. 选择运行模式：
   - 并网模式：适用于与电网连接的场景
   - 离网模式：适用于独立运行的场景

2. 设置优化参数：
   - 种群规模：建议 50-100
   - 迭代次数：建议 20-50

3. 点击"开始优化"等待计算完成

4. 查看优化结果：
   - 三维帕累托前沿图：显示优化解空间
   - 方案列表：列出所有候选方案
   - 点击方案查看详细配置参数和能量流曲线

5. 选择合适方案并点击"确认方案"

#### 第三步：能量管理优化
1. 选择运行模式（与容量优化保持一致）

2. 设置优化指标权重（总和必须为1.0）：
   - 并网模式：经济成本、碳排放、能效
   - 离网模式：经济成本、光伏消纳率、系统缺电率

3. 点击"开始优化"

4. 查看优化结果：
   - 优化指标雷达图
   - 能量流曲线（根据模式显示不同图表）

5. 确认最终方案

## 数据文件准备

### Excel/CSV文件格式要求
```
时间(h)    数值
0          xxx
1          xxx
...        ...
23         xxx
```

### 示例数据说明
- `solar-data.csv`：24小时光照强度数据 (W/m²)
- `traffic-data.csv`：24小时车流量数据 (辆/h)
- `dc-load-data.csv`：24小时直流侧负荷数据 (kW)
- `ac-load-data.csv`：24小时交流侧负荷数据 (kW)

## 功能说明

### 并网模式 vs 离网模式

**并网模式**：
- 优化目标：经济成本、碳排放、弃光率
- 可以向电网买卖电
- 适合城市园区、工业园区等场景

**离网模式**：
- 优化目标：经济成本、弃光率、缺电率
- 独立运行，不依赖电网
- 适合偏远地区、海岛等场景

### 图表说明

1. **三维帕累托前沿图**：展示多目标优化的解空间，每个点代表一个优化方案
2. **储能SOC曲线**：显示储能系统的荷电状态变化
3. **光伏发电功率曲线**：显示光伏系统的发电功率
4. **负荷曲线**：显示系统的用电需求
5. **雷达图**：直观对比各优化指标的表现

## 常见问题

### Q1: 上传文件后没有显示图表？
- 检查文件格式是否正确
- 确保第一列为时间数据(0-23)
- 确保第二列为数值数据
- 文件大小不要超过5MB

### Q2: 优化计算时间很长？
- 减少种群规模（建议50-100）
- 减少迭代次数（建议20-50）
- 确保后端服务正常运行

### Q3: 权重设置总是提示错误？
- 确保所有权重总和等于1.0
- 可以使用滑块调整或直接输入数值
- 精确到小数点后两位

### Q4: 无法连接后端？
- 确保后端服务在 http://localhost:8000 运行
- 检查网络连接
- 可在 `src/services/api.ts` 中修改后端地址

## 技术支持

如遇到其他问题，请检查：
1. 浏览器控制台是否有错误信息
2. 网络连接是否正常
3. 后端服务是否正常运行

建议使用Chrome浏览器以获得最佳体验。